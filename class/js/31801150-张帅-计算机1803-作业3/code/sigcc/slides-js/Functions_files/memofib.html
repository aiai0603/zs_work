<!DOCTYPE html>
<!-- saved from url=(0097)http://people.csail.mit.edu/dnj/teaching/6170/javascript-live/modules/functions/code/memofib.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../editor/codestyles.css">
    <script src="../editor/codeeditor.js"></script>
    <style>
    canvas {position: absolute; left: 580px; top: 67px}
    </style>    
</head>
<body>

<div id="buttons">
	<input type="submit" value="run" id="runIntro" onclick="slide.runCode();">
	<input type="submit" value="clear output" id="clearOutput" onclick="clearOutputBox();">
	<input type="submit" value="revert" id="reloadCode" onclick="location.reload();">
</div>

    <canvas id="canvas" height="200" width="200"></canvas>

<script>
now = function () {return new Date().getTime();}
timer = function (f) {
  return function (i) {
    var start = now();
    var result = f(i);
    var end = now();
     console.log("Time taken: " + (end - start) + "ms");
    return result;
    }
  };
memoize = function (f) {
  var memo = [];
  var fm = function (i) {
    if (memo[i]) return memo[i];
    result = f(i);
    memo[i] = result;
    return result;
    }
  return fm;
  };
fib = function (i) {
  if (i < 2) return 1;
  return fib(i-1) + fib(i-2);
  }
</script>

<textarea id="code" name="code" style="display: none;">var mfib = memoize(function (i) {
  if (i &lt; 2) return 1;
  return mfib(i-1) + mfib(i-2);
  });
timer(fib)(35);
timer(mfib)(35);</textarea><div class="CodeMirror"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-default" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter" style="height: 0px;"><div class="CodeMirror-gutter-text"><pre>1</pre></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0; outline: none; margin-left: 0px;"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden; outline: 5px auto none"><pre><span>x</span></pre></div><pre class="CodeMirror-cursor">&nbsp;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div></div>
<div id="output"><i>Output</i></div>



</body></html>